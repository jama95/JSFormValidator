!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t((t={exports:{}}).exports),e.FormValidator=t.exports.FormValidator)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e){Object.defineProperty(e,"__esModule",{value:!0});let n={ignoredFieldsNames:"",validMessageClass:"valid-feedback",invalidMessageClass:"invalid-feedback",validClass:"is-valid",invalidClass:"is-invalid",validLabelClass:"text-success",invalidLabelClass:"text-danger",inlineMessageClass:"fv-msg",topMessagesClass:"alert",validMessagesClass:"alert-success",invalidMessagesClass:"alert-danger",validMessagesPosition:"inline",invalidMessagesPosition:"inline",topMessagesTemplate:'<div class="{topMessagesClass} {valid_invalid}" target="#{formID}" data-fv-top-{vi}><h4>{title}</h4><ul>{fields&messagesList}</ul></div>',scrollToTopOnInvalid:!(e.FormValidator=function(e,t){return new Z(e,t)}),addValidClassOnAll:!1,validateHiddenFields:!1,validMessageCallback:void 0,invalidMessageCallback:void 0,form:"form",parentField:".fv-group",fieldModifyAttribute:"data-fv-modifiers",fieldValidateAttribute:"data-fv-validators",fieldInvalidMessageAttribute:"data-fv-invalid-msg",fieldValidMessageAttribute:"data-fv-valid-msg",fieldHelpMessageAttribute:"data-fv-help-msg",modifyOnInput:!0,validateOnInput:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpMessagesOnFocus:!0,addSuggestions:!0,suggestionConfig:{maxHeight:"150px",containerClass:"fv-suggestion_container",optionClass:"fv-suggestion_option"},suggestionAttribute:"data-fv-suggestions",lengthRestrictAttribute:"data-fv-text-length",lengthRestrictInfo:"count",passwordSpecialChars:/[\x21\x40\x23\x24\x25\x5E\x26\x2A\x5F\x2D\x2B\x3D]/,addPasswordInfo:!0,passwordInfoClass:"card"},o={locale:"en-US",currencyCode:"USD",dateFormat:"YYYY-MM-DD",timeFormat:"HH:mm:ss",validTitle:"Valid form data!",invalidTitle:"Invalid form data!",notConfirmed:"Could not be validated.",inv_required:"Is required.",inv_date:"Is not a valid date.",inv_time:"Is not a valid time.",inv_telephone:"Is not a valid phone number.",inv_ipv4:"Is not a valid IPv4 address.",inv_ipv6:"Is not a valid IPv6 address.",inv_domain:"Is not a valid domain.",inv_email:"Is not a valid e-mail address.",inv_url:"Is not a valid URL.",inv_numbers:"Is not a valid number.",inv_numberMax:"Must be less than or equal to {max}.",inv_numberMin:"Must be greater than or equal to {min}.",inv_numberRange:"Must match the range {range}.",inv_numberEqual:"Must be equal to {equal}.",inv_numberStep:"Must increase by {step}.",inv_lengthMax:"Must 1[have]1|2[choose]2 a maximum of {max} 3[character(s)]3|4[file(s)]4|5[option(s)]5.",inv_lengthMin:"Must 1[have]1|2[choose]2 a minimum of {min} 3[character(s)]3|4[file(s)]4|5[option(s)]5.",inv_lengthRange:"Must 1[have]1|2[choose]2 between {min} and {max} 3[characters]3|4[files]4|5[options]5.",inv_lengthEqual:"Must 1[have]1|2[choose]2 {equal} 3[character(s)]3|4[file(s)]4|5[option(s)]5.",inv_letters:"Can oly contain letters.[ Also can contain {extra}]",inv_regexp:"Is not a valid value.",inv_alphanumeric:"Can only contain letters and numbers.[ Also can contain {extra}]",inv_color:"Is not a valid color format.",inv_file_size:"File(s) size is too large (max: {max}).",inv_file_type:"File(s) type must be: {type}.",inv_file_extension:"File(s) extension must be: {extension}.",inv_image_dimension:"Image(s) dimensions are not valid.",inv_image_heigh:"Image(s) heigh must not exceed: {max}px.",inv_image_width:"Image(s) width must not exceed: {max}px.",inv_image_ratio:"Image aspect ratio is not valid.",inv_credit_card:"Credit card number is not valid.",inv_cvv:"CVV number is not valid.",inv_confirmation:"[The values] do not match.",inv_security_answer:"Security question answer is not valid.",inv_strength:"Password is not strong enough.",passwordConditionsTitle:"Password must contain:",passwordConditionUppercase:"Uppercase letter(s).",passwordConditionLowercase:"Lowercase letter(s).",passwordConditionSpecialChars:"Special character(s).",passwordConditionNumericChars:"Numeric character(s).",passwordConditionLength:"At least 8 characters.",passwordStrengthVeryWeak:"Very weak &#x1F628;",passwordStrengthWeak:"Weak &#x1F61E;",passwordStrengthNormal:"Normal &#x1F610;",passwordStrengthStrong:"Strong &#x1F601;",passwordStrengthVeryStrong:"Very Strong &#x1F60E;"},r={validators:{},asyncValidators:{},modifiers:{},stopValidation:!1,onBeforeValidate:{},onValid:{},onInvalid:{},onAfterValidate:{},validMessages:{},invalidMessages:{},language:o},s={EC:[/^(?:0|\x2B593\s?)(?:\d{2}(?:\s|-)?)\d{3}(?:\s|-)?\d{4}$/,/^(?:(?:0|\x2B593\s?)[2-7]\s?)?\d{7}$/]},u={AMEX:{first:[3],length:{min:15,max:15},cvv:4},VISA:{first:[4],length:{min:16,max:16},cvv:3},MAST:{first:[2,5],length:{min:16,max:16},cvv:3},DISC:{first:[6],length:{min:16,max:16},cvv:3}},v=(r.modifiers.lower={name:"lower",modifierFunction:function(e){return e.toLowerCase()}},r.modifiers.upper={name:"upper",modifierFunction:function(e){return e.toUpperCase()}},r.modifiers.capital={name:"capital",modifierFunction:i},r.modifiers.sentence={name:"sentence",modifierFunction:a},r.modifiers.camel={name:"camel",modifierFunction:function(e){return C(e,!1)},modifyOnInput:!1},r.modifiers.pascal={name:"pascal",modifierFunction:function(e){return C(e,!0)},modifyOnInput:!1},r.modifiers.currency={name:"currency",modifierFunction:function(e,t,a){var i=a.getAttribute("data-fv-decimals"),n=a.getAttribute("data-fv-locale")??void 0,s=a.getAttribute("data-fv-currency")??void 0,i=i?parseInt(i):void 0;if(a.hasAttribute("data-fv-currency_original")||a.setAttribute("data-fv-currency_original",e),a.addEventListener("focus",()=>{a.value=a.getAttribute("data-fv-currency_original")??e}),a.addEventListener("input",()=>{a.setAttribute("data-fv-currency_original",a.value)}),e=a.getAttribute("data-fv-currency_original"),/[^\d.]/.test(e))return e;var r,l=e,d=o;if(!/^\d+(\.\d+)?$/.test(l))return l;i||(r=l.split("."),i=r.length),n=n||d.locale,s=s||d.currencyCode,i=100<Math.abs(i)?100:Math.abs(i);try{return parseFloat(l).toLocaleString(n,{style:"currency",currency:s,minimumFractionDigits:i})}catch{return parseFloat(l).toFixed(i)}},modifyOnInput:!1},r.modifiers.trim={name:"trim",modifierFunction:function(e){return e.trim()},modifyOnInput:!1},r.modifiers.trim_left={name:"trim_left",modifierFunction:function(e){return e.trimStart()},modifyOnInput:!1},r.modifiers.trim_right={name:"trim_right",modifierFunction:function(e){return e.trimEnd()},modifyOnInput:!1},r.validators.date={name:"date",validatorFunction:function(e,t,a,i,n){e=function(e,t){var a=t.toUpperCase().replace(/[DMY]/g,"").charAt(0);if(!function(e,t){if(/[A-Z0-9]/.test(t))return;var a=(RegExp(new RegExp("\\"+t)).exec(e)??[]).length;if(e.replace(t,"").length!=e.length-a)return;if(new RegExp(`[^YMD${t}]`).test(e))return;var i=e.split(t);switch(i.length){case 3:if(i.includes("YYYY")||i.includes("MM")||i.includes("DD"))break;return;case 2:if(i.includes("YYYY")||i.includes("MM"))break;return;case 1:if(i.includes("YYYY"))break;return;default:return}return 1}(t.toUpperCase(),a))return"no";var i=function(e,t){return"^"+e.split(t).map(e=>e.includes("YYYY")?"\\d{4}":"\\d{2}").join("\\"+t)+"$"}(t.toUpperCase(),a);if(!new RegExp(i).test(e))return"invalid";i=e.split(a),e=t.toUpperCase().split(a),t=parseInt(i[e.indexOf("DD")],10),a=parseInt(i[e.indexOf("MM")],10),i=parseInt(i[e.indexOf("YYYY")],10);if(i<0||9999<i)return"invalid";if(1<e.length&&a&&(a<1||12<a))return"invalid";if(3==e.length&&t&&(t<1||t>new Date(i,a-1,0).getDate()))return"invalid";return"ok"}(e,a.getAttribute("data-fv-date_format")??n.dateFormat);return"no"==e?(this.invalidMessage=n.notConfirmed,!1):"invalid"!=e||(this.invalidMessage=n.inv_date,!1)},invalidMessage:o.notConfirmed,messageKey:"date"},r.validators.time={name:"time",validatorFunction:function(e,t,a,i,n){e=function(e,t){if(!/^(HH\x3Amm)((\x3Ass)|(\x3Ass\x2Esss))?(A)?$/.test(t))return"no";var a=function(e){return"^"+e.replace("A","").split(":").map(e=>e.includes(".")?"\\d{2}\\x2E\\d{3}":"\\d{2}").join("\\x3A")+(-1<e.lastIndexOf("A")?"(a\\s?m|p\\s?m|a.\\s?m.|p.\\s?m.)":"")+"$"}(t);if(!new RegExp(a,"i").test(e))return"invalid";var a=M(e.replace(/a\s?m|p\s?m|a.\s?m.|p.\s?m./i,"")),e=M(t.replace("A","")),i=parseInt(a[e.indexOf("HH")],10),n=parseInt(a[e.indexOf("mm")],10),s=parseInt(a[e.indexOf("ss")],10),a=parseInt(a[e.indexOf("sss")],10),e=-1==t.search(/A/)?23:12;return i<0||e<i||n<0||59<n||s&&(s<0||59<s)||a&&(a<0||999<a)?"invalid":"ok"}(e,a.getAttribute("data-fv-time_format")??n.timeFormat);return"no"==e?(this.invalidMessage=n.notConfirmed,!1):"invalid"!=e||(this.invalidMessage=n.inv_time,!1)},invalidMessage:o.notConfirmed,messageKey:"time"},r.validators.required={name:"required",validatorFunction:function(e,t,a,i,n){var s=a.getAttribute("name");return a instanceof HTMLInputElement&&"checkbox"==a.type?0<t.querySelectorAll(`input[type="checkbox"][name="${s}"]:checked`).length:a instanceof HTMLInputElement&&"radio"==a.type?0<t.querySelectorAll(`input[type="radio"][name="${s}"]:checked`).length:0<e.trim().length},invalidMessage:o.inv_required,messageKey:"required"},o.notConfirmed);function f(e,t,a){return e?v.replace(/1\x5B.+2\x5B/,"").replace("]2","").replace(/3\x5B.+4\x5B/,"").replace(/\x5D4.+\x5D5/,""):t||a?v.replace(/1\x5B.+2\x5B/,"").replace("]2","").replace(/3\x5B.+5\x5B/,"").replace("]5",""):v.replace(/\x5D1.+\x5D2/,"").replace("1[","").replace(/\x5D3.+\x5D5/,"").replace("3[","")}function l(e,t){switch(e[0]){case"max":return t.inv_numberMax.replace("{max}",e[1]);case"min":return t.inv_numberMin.replace("{min}",e[1]);case"range":return t.inv_numberRange.replace("{range}",e[1]+"::"+e[2]);case"equal":return t.inv_numberEqual.replace("{equal}",e[1]);case"step":return t.inv_numberStep.replace("{step}",e[1]);default:return t.inv_numbers}}r.validators.length={name:"length",validatorFunction:function(e,t,a,i,n){var s=a.getAttribute("data-fv-length");if(!s)return this.invalidMessage=n.notConfirmed,!1;let r=e.length,l=!1,d=!1,o=!1;a instanceof HTMLInputElement&&"file"==a.type&&a.files&&(l=!0,r=a.files.length),a instanceof HTMLInputElement&&"checkbox"==a.type&&(r=document.querySelectorAll(`input[name=${a.name}]:checked`).length,o=!0),a instanceof HTMLSelectElement&&a.hasAttribute("multiple")&&(d=!0,r=a.selectedOptions.length);var c=function(e,t){if(t.includes("::")&&(t.includes("max")||t.includes("min")))return["no"];t=RegExp(/^(min|max)?(\d+)(?:\x3A\x3A(\d+))?$/).exec(t);if(!t)return["no"];var[,t,a,i]=t,n="min"===t,t="max"===t,s=parseInt(a,10),r=i?parseInt(i,10):void 0;return n&&e<s?["min",a]:t&&s<e?["max",a]:void 0!==r&&(e<s||r<e)?["range",a,i]:n||t||void 0!==r||e===s?["ok"]:["equal",a]}(r,s);switch(c[0]){case"max":return v=n.inv_lengthMax.replace("{max}",c[1]),this.invalidMessage=f(l,d,o),!1;case"min":return v=n.inv_lengthMin.replace("{min}",c[1]),this.invalidMessage=f(l,d,o),!1;case"range":return v=n.inv_lengthRange.replace("{max}",c[2]).replace("{min}",c[1]),this.invalidMessage=f(l,d,o),!1;case"equal":return v=n.inv_lengthEqual.replace("{equal}",c[1]),this.invalidMessage=f(l,d,o),!1;case"no":return this.invalidMessage=n.notConfirmed,!1}return!0},invalidMessage:v,messageKey:"length"},r.validators.numbers={name:"numbers",validatorFunction:function(e,t,a,i,n){var s,r=(a.getAttribute("data-fv-numbers_allow")??"").split(/[,|-]+\s*|\s+/);return!(r.includes("noPositive")&&!e.includes("-")||!r.includes("negative")&&!r.includes("noPositive")&&e.includes("-")||!r.includes("decimal")&&e.includes(".")||!/^-?\d+(\x2E\d+)?$/.test(e)||(s=a.getAttribute("data-fv-numbers_range")??"",a=a.getAttribute("data-fv-numbers_step")??"",(r=function(e,t,a,i){let n=["ok"],s=["ok"];e.includes("range")&&"ok"==(n=function(e,t){let a=["ok"];e.includes("noPositive")&&!t.includes("-")&&(a=["no"]);e.includes("negative")||e.includes("noPositive")||!t.includes("-")||(a=["no"]);!e.includes("decimal")&&t.includes(".")&&(a=["no"]);return a}(e,a))[0]&&(n=function(e,t){if(t.includes("::")&&(t.includes("max")||t.includes("min")))return["no"];t=RegExp(/^(min|max)?((?:-?)\d+(?:\x2E\d+)?)(?:\x3A\x3A((?:-?)\d+(?:\x2E\d+)?))?$/).exec(t);if(!t)return["no"];var[,t,a,i]=t,n="min"===t,t="max"===t,s=parseFloat(a),r=i?parseFloat(i):void 0;return n&&e<s?["min",a]:t&&s<e?["max",a]:void 0!==r&&(e<s||r<e)?["range",a,i]:n||t||void 0!==r||e===s?["ok"]:["equal",a]}(t,a));e.includes("step")&&"ok"==(s=function(e,t){let a=["ok"];e.includes("noPositive")&&!t.includes("-")&&(a=["no"]);e.includes("negative")||e.includes("noPositive")||!t.includes("-")||(a=["no"]);!e.includes("decimal")&&t.includes(".")&&(a=["no"]);return a}(e,i))[0]&&(s=function(e,t){if(!/^-?\d+(\x2E\d+)?$/.test(t))return["no"];var a=parseFloat(t);return e%a!=0?["step",t]:["ok"]}(t,i));return[[...n],[...s]]}(r,parseFloat(e),s,a))[0][0]&&"ok"!=r[0][0]?(this.invalidMessage=l(r[0],n),1):r[1][0]&&"ok"!=r[1][0]&&(this.invalidMessage=l(r[1],n),1)))},invalidMessage:o.inv_numbers,messageKey:"numbers"},r.validators.letters={name:"letters",validatorFunction:function(e,t,a,i,n){a=a.getAttribute("data-fv-letters_allow")??"";return!!new RegExp(`^[a-z${_(a)}]+$`,"i").test(e)||(0==a.length?this.invalidMessage=o.inv_letters.replace(/\x5B.+\x5D/,""):this.invalidMessage=o.inv_letters.replace("[","").replace("]","").replace(/\x7B.+\x7D/,a),!1)},invalidMessage:o.notConfirmed,messageKey:"letters"},r.validators.alphanumeric={name:"alphanumeric",validatorFunction:function(e,t,a,i,n){a=a.getAttribute("data-fv-letters_allow")??"";return!!new RegExp(`^[a-z\\d${_(a)}]+$`,"i").test(e)||(this.invalidMessage=0==(e=a).length?o.inv_alphanumeric.replace(/\x5B.+\x5D/i,""):o.inv_alphanumeric.replace("[","").replace("]","").replace(/\x7B\w+\x7D/,e),!1)},invalidMessage:o.notConfirmed,messageKey:"alphanumeric"},r.validators.regex={name:"regex",validatorFunction:function(e,t,a,i,n){var s=a.getAttribute("data-fv-regex")??"",a=a.getAttribute("data-fv-flags")??void 0;return!!s&&new RegExp(s,a).test(e)},invalidMessage:o.inv_regexp,messageKey:"regex"},r.validators.telephone={name:"telephone",validatorFunction:function(e,t,a,i,n){a=a.getAttribute("data-fv-telephone_format")??"EC";return!!s[a]&&new RegExp(s[a].join("|").replace(/\//g,"")).test(e)},invalidMessage:o.inv_telephone,messageKey:"telephone"};let d="(rgb\\x28(25[0-5]|2[0-4]\\d|1?\\d{1,2})\\s*\\x2C\\s*(25[0-5]|2[0-4]\\d|1?\\d{1,2})\\s*\\x2C\\s*(25[0-5]|2[0-4]\\d|1?\\d{1,2})\\x29)",c="(rgba\\x28(25[0-5]|2[0-4]\\d|1?\\d{1,2})\\s*\\x2C\\s*(25[0-5]|2[0-4]\\d|1?\\d{1,2})\\s*\\x2C\\s*(25[0-5]|2[0-4]\\d|1?\\d{1,2})\\s*\\x2C\\s*(0?\\x2E\\d+|[01])\\x29)",m="(hsl\\x28(360|3[0-5]\\d|[12]?\\d{1,2})\\s?\\x2C\\s?(100|[1-9]?\\d)\\x25\\s?\\x2C\\s?(100|[1-9]?\\d)\\x25\\x29)",g="(hsla\\x28(360|3[0-5]\\d|[12]?\\d{1,2})\\s?\\x2C\\s?(100|[1-9]?\\d)\\x25\\s?\\x2C\\s?(100|[1-9]?\\d)\\x25\\s*\\x2C\\s*(0\\x2E\\d+|[01])\\x29)",p="(CMYK\\x28(100|[1-9]?\\d)\\x25\\s?\\x2C\\s?(100|[1-9]?\\d)\\x25\\s?\\x2C\\s?(100|[1-9]?\\d)\\x25\\s*\\x2C\\s*(100|[1-9]?\\d)\\x25\\x29)",x="((?:\\x23(?:[a-f\\d]{2}){3}(?:[a-f\\d]{2})?)|(?:\\x23[a-f\\d]{3}[a-f\\d]?))";r.validators.color={name:"color",validatorFunction:function(e,t,a,i,n){var a=a.getAttribute("data-fv-colors")??"",s=[];return 0==a.trim().length?s.push(`^${d}$|^${c}$|^${m}$|^${g}$|^${p}$|^${x}$`):(a.search(/rgba?/i)&&s.push(`^${d}$|^${c}$`),a.search(/hsla?/i)&&s.push(`^${m}$|^${g}$`),a.search(/CMYK/i)&&s.push(`^${p}$`),a.search(/(?:hex)|#/i)&&s.push(`^${x}$`)),!!new RegExp(1<s.length?s.join("|"):s[0],"i").test(e)},invalidMessage:o.inv_color,messageKey:"color"},r.validators.ec_cedula={name:"ec_cedula",validatorFunction:function(e,t,a,i,n){var s;return!/\D/.test(e)&&10==e.length&&!(6<=(s=e.split("").map(Number))[2]||0==(e=parseInt(e.substring(0,2)))||24<e||30!=e||(e=s.pop(),s=$(s),(s=0!=e?10-s:s)!==e))},invalidMessage:"El número de cédula no es válido.",messageKey:"ec_cedula"},r.validators.ec_ruc={name:"ec_ruc",validatorFunction:function(e,t,a,i){if(/\D/.test(e))return!1;if(13!=e.length)return!1;var n=e.split("").map(Number);if(7==n[2]||8==n[2])return!1;var s=parseInt(e.substring(0,2));if(0==s||24<s||30!=s)return!1;var s=n.slice(0,10),r=n[2]<6?10:11;if(e=e,(l=n)[2]<6&&"001"!=e.substring(10)||9==l[2]&&"000"==e.substring(10)||6==l[2]&&"0000"!=e.substring(9))return!1;6==n[2]&&s.pop();var l=s.pop(),e=(n[2]<6?$:function(e){let t=0,a=2;return e.slice().reverse().forEach(e=>{t+=e*a,7<++a&&(a=2)}),t%11})(n);return(0!=l?r-e:e)===l},invalidMessage:"El número de ruc no es válido",messageKey:"ec_ruc"},r.validators.file_size={name:"file_size",validatorFunction:function(e,t,a,i,n){if(a instanceof HTMLInputElement&&"file"==a.type){var s=a.files;if(s){var r,a=a.getAttribute("data-fv-file_max_size")??"5MB",l=(d=(d=a).toUpperCase()).endsWith("GB")?1024*parseInt(d.slice(0,-2),10)*1024*1024:d.endsWith("MB")?1024*parseInt(d.slice(0,-2),10)*1024:d.endsWith("KB")?1024*parseInt(d.slice(0,-2),10):d.endsWith("B")?parseInt(d.slice(0,-1),10):parseInt(d,10);let e=!0;for(r of Array.from(s))if(r.size>l){e=!1;break}return e||(this.invalidMessage=n.inv_file_size.replace("{max}",a)),e}}var d;return!1},invalidMessage:o.notConfirmed,messageKey:"file_size"},r.validators.file_type={name:"file_type",validatorFunction:function(e,t,a,i,n){if(a instanceof HTMLInputElement&&"file"===a.type){var s=a.files;if(s){let t=(a.getAttribute("data-fv-file_type")??"").split(/[,|-]+\s*|\s+/);a=Array.from(s).every(e=>t.includes(e.type));return a||(this.invalidMessage=n.inv_file_type.replace("{type}",`(${t.join(", ")})`)),a}}return!1},invalidMessage:o.notConfirmed,messageKey:"file_type"},r.validators.file_extension={name:"file_extension",validatorFunction:function(e,t,a,i,n){if(a instanceof HTMLInputElement&&"file"===a.type){var s=a.files;if(s){let t=(a.getAttribute("data-fv-file_extension")??"").split(/[,|-]+\s*|\s+/);a=Array.from(s).every(e=>t.includes(e.name.slice(e.name.lastIndexOf(".")+1)));return a||(this.invalidMessage=n.inv_file_extension.replace("{extension}",`(${t.join(", ")})`)),a}}return!1},invalidMessage:o.notConfirmed,messageKey:"file_extension"},r.asyncValidators.image_dimension={name:"image_dimension",validatorFunction:async function(e,t,a,i,n){if(!(a instanceof HTMLInputElement&&"file"===a.type))return!1;var s=a.getAttribute("data-fv-image_dimension")??"";if(0===s.trim().length)return!1;a=a.files;if(!a)return!1;var r,[l,d]=s.split("x").map(Number);let o=!1;for(r of Array.from(a)){if(!r.type.includes("image")){this.invalidMessage=n.inv_file_type.replace("{type}","image/*"),o=!1;break}var c=await k(r);if(!(o=c[0]==l&&c[1]==d)){this.invalidMessage=n.inv_image_dimension;break}}return o},invalidMessage:o.notConfirmed,messageKey:"image_dimension"},r.asyncValidators.image_height={name:"image_height",validatorFunction:async function(e,t,a,i,n){if(!(a instanceof HTMLInputElement&&"file"===a.type))return!1;var s=a.getAttribute("data-fv-image_height")??"";if(0===s.trim().length)return!1;var r,a=a.files;if(!a)return!1;let l=!1;for(r of Array.from(a)){if(!r.type.includes("image")){this.invalidMessage=n.inv_file_type.replace("{type}","image/*"),l=!1;break}var d=await k(r);if(!(l=d[0]<=parseFloat(s))){this.invalidMessage=n.inv_image_heigh.replace("{max}",s);break}}return l},invalidMessage:o.notConfirmed,messageKey:"image_height"},r.asyncValidators.image_width={name:"image_width",validatorFunction:async function(e,t,a,i,n){if(!(a instanceof HTMLInputElement&&"file"===a.type))return!1;var s=a.getAttribute("data-fv-image_width")??"";if(0===s.trim().length)return!1;var r,a=a.files;if(!a)return!1;let l=!1;for(r of Array.from(a)){if(!r.type.includes("image")){this.invalidMessage=n.inv_file_type.replace("{type}","image/*"),l=!1;break}var d=await k(r);if(!(l=d[0]<=parseFloat(s))){this.invalidMessage=n.inv_image_width.replace("{max}",s);break}}return l},invalidMessage:o.notConfirmed,messageKey:"image_width"};let h="((?:25[0-5]|2[0-4]\\d|1?\\d{1,2})(?:\\x2E(?:25[0-5]|2[0-4]\\d|1?\\d{1,2})){3})";h;r.validators.ipv4={name:"ipv4",validatorFunction:function(e,t,a,i,n){return!!new RegExp("^((?:25[0-5]|2[0-4]\\d|1?\\d{1,2})(?:\\x2E(?:25[0-5]|2[0-4]\\d|1?\\d{1,2})){3})(\\x2F(?:3[0-2]|[12]?\\d))?$").test(e)},invalidMessage:o.inv_ipv4,messageKey:"ipv4"};e="(?:((?:[\\da-f]{1,4}\\x3A){7}[\\da-f]{1,4})|((?:[\\da-f]{1,4}\\x3A){1,6}\\x3A)|((?:[\\da-f]{1,4}\\x3A){1,5}\\x3A[\\da-f]{1,4})|((?:[\\da-f]{1,4}\\x3A){1,4}(?:\\x3A[\\da-f]{1,4}){1,2})|((?:[\\da-f]{1,4}\\x3A){1,3}(?:\\x3A[\\da-f]{1,4}){1,3})|((?:[\\da-f]{1,4}\\x3A){1,2}(?:\\x3A[\\da-f]{1,4}){1,4})|((?:[\\da-f]{1,4}\\x3A)(?:\\x3A[\\da-f]{1,4}){1,5})|(\\x3A(?:(?:\\x3A[\\da-f]{1,4}){1,6}|\\x3A)))";let b="(\\x25[\\da-zA-Z\\x2D\\x5F]+)?",y="(\\x2F(?:1[0-2][0-8]?|\\d\\d?))?";h,b,b,b,y;r.validators.ipv6={name:"ipv6",validatorFunction:function(e,t,a,i,n){a="true"==a.getAttribute("data-fv-ipv6_zeros");if(new RegExp("^((\\x3A\\x3Affff\\x3A)((?:25[0-5]|2[0-4]\\d|1?\\d{1,2})(?:\\x2E(?:25[0-5]|2[0-4]\\d|1?\\d{1,2})){3})(\\x25[\\da-zA-Z\\x2D\\x5F]+)?)$|^(?:(fe80(?:(?:\\x3A[\\da-f]{1,4}){7}|(?:(?:\\x3A[\\da-f]{1,4}){1,5}\\x3A\\x3A)|(?:(?:\\x3A[\\da-f]{1,4}){4}\\x3A(?:\\x3A[\\da-f]{1,4}))|(?:(?:\\x3A[\\da-f]{1,4}){3}\\x3A(?:\\x3A[\\da-f]{1,4}){1,2})|(?:(?:\\x3A[\\da-f]{1,4}){2}\\x3A(?:\\x3A[\\da-f]{1,4}){1,3})|(?:(?:\\x3A[\\da-f]{1,4}){1}\\x3A(?:\\x3A[\\da-f]{1,4}){1,4})|(?:\\x3A(?:(?:\\x3A[\\da-f]{1,4}){1,5}|\\x3A))))(\\x25[\\da-zA-Z\\x2D\\x5F]+)?)$|^((?:((?:[\\da-f]{1,4}\\x3A){7}[\\da-f]{1,4})|((?:[\\da-f]{1,4}\\x3A){1,6}\\x3A)|((?:[\\da-f]{1,4}\\x3A){1,5}\\x3A[\\da-f]{1,4})|((?:[\\da-f]{1,4}\\x3A){1,4}(?:\\x3A[\\da-f]{1,4}){1,2})|((?:[\\da-f]{1,4}\\x3A){1,3}(?:\\x3A[\\da-f]{1,4}){1,3})|((?:[\\da-f]{1,4}\\x3A){1,2}(?:\\x3A[\\da-f]{1,4}){1,4})|((?:[\\da-f]{1,4}\\x3A)(?:\\x3A[\\da-f]{1,4}){1,5})|(\\x3A(?:(?:\\x3A[\\da-f]{1,4}){1,6}|\\x3A)))(\\x25[\\da-zA-Z\\x2D\\x5F]+)?(\\x2F(?:1[0-2][0-8]?|\\d\\d?))?)$").test(e)){if(!new RegExp(h).test(e)&&(e=(e=e.replace(new RegExp(y.slice(0,-1)),"")).replace(new RegExp(b.slice(0,-1)),""),a)){a=e;if(0<(e=a.split("::").flatMap(e=>e.split(":")).filter(e=>0<e.length)).filter(e=>/^(0{2,4})$/.test(e)).length)return!1;if(/^(0\x3A){7}0$/.test(a))return!1;if(e.filter(e=>"0"===e||!e.startsWith("0")).length!=e.length)return!1;if(/\x3A\x3A/.test(a)){if(/(^|\x3A)0\x3A\x3A|\x3A\x3A0(\x3A|$)/.test(a))return!1;var s=8-e.length,e=e.map(e=>"0"==e?e:"-").join("");if(new RegExp(`0{${1+s},}`).test(e))return!1;if(/0{2,}/.test(e))if(a.indexOf("::")<e.search(/0{2,}/))return!1}}return!0}return!1},invalidMessage:o.inv_ipv6,messageKey:"ipv6"};let A="(((?:[a-z][a-z\\d\\x2D]{0,61}[a-z\\d]?\\x2E)+)([a-z\\d][a-z\\d\\x2D]*[a-z\\d]\\x2E?))";r.validators.domain={name:"domain",validatorFunction:function(e,t,a,i,n){if(253<e.length)return!1;if(/\x2D{2,}/g.test(e))return!1;if(!new RegExp(`^${A}$`,"i").test(e))return!1;var s=(e=e.endsWith(".")?e.slice(0,-1):e).split(".");if(s.pop()?.search(/[^A-Z]/))return!1;e=s;if(e.filter(e=>/\x2D{2,}/.test(e)),e.length!=s.length)return!1;let r=!1;for(let e=0;e<=s.length-2;e++)if(s[e].toUpperCase()==s[e+1].toUpperCase()){r=!0;break}return!r},invalidMessage:o.inv_domain,messageKey:"domain"};var t=h.replace("((?:","(?:(?:"),e=e.replace(/\x28\x28\x3F\x3A/g,"(?:(?:").replace("|(\\x3A","|(?:\\x3A"),D=A.replace("((","(?:(?:").replace(")(",")(?:");let H=`(((?:\\w|\\d|[\\x21\\x23\\x24\\x25\\x26\\x2A\\x2B\\x2D\\x2E\\x2F\\x3D\\x3F\\x5E\\x7B\\x7C\\x7D\\x7E\\u02BC\\u02BD]|(?:\\x5C[\\x22\\x2C\\x40\\x5B\\x5C\\x5D]))*|(?:\\x22(?:\\w|\\d|[\\x21\\x23\\x24\\x25\\x26\\x2A\\x2B\\x2D\\x2E\\x2F\\x3D\\x3F\\x5E\\x7B\\x7C\\x7D\\x7E\\u02BC\\u02BD\\x22\\x2C\\x40\\x5B\\x5C\\x5D])*\\x22))\\x40${`(${A}|(?:\\x5B${t}\\x5D)|(?:Ipv6:\\x5B${e}\\x5D))`})`;r.validators.email={name:"email",validatorFunction:function(e,t,a,i,n){var s;return!e.startsWith(".")&&!e.endsWith(".")&&!(254<e.length||(s=new RegExp(`^${H}$`,"i"),!(s=RegExp(s).exec(e)))||(s=(e=[...s])[3],64<(e=e[2]).length)||e.endsWith(".")||e.includes("..")||!s.includes("[")&&!r.validators.domain.validatorFunction(s,t,a,i,n))},invalidMessage:o.inv_email,messageKey:"email"};var B="a-z\\d\\x2D\\x2E\\x5F\\x7E",O="\\x21\\x24\\x26\\x27\\x28\\x29\\x2A\\x2B\\x2C\\x3B\\x3D",R="(?:\\x25[a-f\\d]{2})";let K=`((https?\\x3A)${`(\\x2F\\x2F((?:[${B}${O}\\x3A]|${R})+\\x40)?(localhost|${D}|(?:\\x5B(?:${e}${b.replace("(\\x25","(?:\\x2525")})\\x5D)|${t})(\\x3A\\d+)?\\x2F?)`}((?:\\x2F(?:[a-z\\d\\x2D\\x2E\\x5F\\x7E\\x21\\x24\\x26\\x27\\x28\\x29\\x2A\\x2B\\x2C\\x3B\\x3D\\x3A\\x40]|(?:\\x25[a-f\\d]{2}))+)*)(\\x3F(?:[a-z\\d\\x2D\\x2E\\x5F\\x7E\\x21\\x24\\x26\\x27\\x28\\x29\\x2A\\x2B\\x2C\\x3B\\x3D\\x2F\\x3A\\x3F\\x40]|(?:\\x25[a-f\\d]{2}))+)?(\\x23(?:[a-z\\d\\x2D\\x2E\\x5F\\x7E\\x21\\x24\\x26\\x27\\x28\\x29\\x2A\\x2B\\x2C\\x3B\\x3D\\x2F\\x3A\\x3F\\x40]|(?:\\x25[a-f\\d]{2}))+)?)`;function M(e){var e=e.split("."),t=[...e[0].split(":")];return e[1]&&t.push(e[1]),t}function a(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1)}function i(e){return e.split(/\s/g).map(e=>a(e)).join(" ")}function C(e,t){return e=i(e).replace(/\s/g,""),e=t?e:e.charAt(0).toLocaleLowerCase()+e.slice(1)}function F(e,t){let a='[type="image"],[type="submit"],[type="button"],[type="reset"]';return e&&(a+=',[type="hidden"]'),t&&(a+=',[ignored="true"]'),a}function E(e,t,a,i,n){e&&t.validMessageCallback?t.validMessageCallback(a,i,n,t):!e&&t.invalidMessageCallback&&t.invalidMessageCallback(a,i,n,t)}function _(e){return e.replace(/[.*+?^${}()|\x5B\x5D\x2F\x5C]/g,"\\$&")}function w(e){let t=0;var a=[];return/[A-Z]/.test(e)&&(t++,a.push("UC")),/[a-z]/.test(e)&&(t++,a.push("LC")),n.passwordSpecialChars.test(e)&&(t++,a.push("SC")),/\d/.test(e)&&(t++,a.push("NC")),e.length<8&&t--,8<=e.length&&a.push("L"),12<=e.length&&t++,{strength:t=/\s/.test(e)?1:t,check:a}}function $(e){let a=0;return e.slice().reverse().forEach((e,t)=>{t%2==0&&9<(e*=2)&&(e-=9),a+=e}),a%10}function k(t){return new Promise(a=>{var e=new FileReader;e.readAsDataURL(t),e.onload=function(t){if(t.target){let e=new Image;e.src=t.target.result,e.onload=function(){a([e.width,e.height])}}else a([0,0])}})}function L(t,a,i){if(t.hasAttribute("data-fv-length_restriction"))return;let n=document.createElement("div");n.classList.add("fv-textAreaLength");let s;n.style.backgroundColor=window.getComputedStyle(document.getElementsByTagName("body")[0]).backgroundColor;function r(){var e=(e=t.getBoundingClientRect().width-n.getBoundingClientRect().width-20)<8?8:e;n.style.marginLeft=e+"px",n.style.marginTop=`-${n.getBoundingClientRect().height/2}px`}t.before(n),t.setAttribute("data-fv-length_restriction",""),t.addEventListener("input",function(){let e=t.value.length;if(e>=a&&(e=a,t.value=t.value.substring(0,a)),(s=a-e)<0&&(s=0),i)switch(i){case"both":n.innerText=`${e}(${s})/`+a;break;case"remaining":n.innerText=s+"/"+a;break;default:n.innerText=e+"/"+a}r()}),t.dispatchEvent(new Event("input")),new ResizeObserver(r).observe(t)}function z(a,i,n){if(a.hasAttribute("data-fv-suggestions"))return;if(0==i.filter(e=>0<e.length).length)return;function s(e){for(r=-1;l.firstChild;)l.removeChild(l.firstChild);for(var t of e){let e=document.createElement("option");e.value=t,e.innerText=t,e.classList.add(n.optionClass),e.onclick=function(){l.style.display="none",a.value=e.value},l.appendChild(e)}0<l.options.length?(l.style.display="block",l.scrollTo(0,0)):l.style.display="none"}let r=-1,l=document.createElement("datalist"),t=(l.classList.add("fv-suggestions"),l.classList.add(n.containerClass),l.style.maxHeight=n.maxHeight,l.style.display="none",l.setAttribute("target","#"+a.id),l.style.backgroundColor=window.getComputedStyle(document.getElementsByTagName("body")[0]).backgroundColor,a.setAttribute("autocomplete","off"),a.setAttribute("list",""),a.addEventListener("blur",function(){document.querySelector(`datalist.fv-suggestions[target="#${a.id}"] option:hover`)||(l.style.display="none")}),a.addEventListener("dblclick",function(){s(i)}),a.addEventListener("input",function(){l.style.display="none",0!=a.value.trim().length&&setTimeout(()=>{let t=new RegExp(_(a.value),"i");var e=i.filter(e=>t.test(e));0<e.length&&s(e)},200)}),a.addEventListener("keydown",function(e){"block"==l.style.display&&l.options&&("Escape"==e.key&&(e.preventDefault(),l.style.display="none"),"ArrowUp"==e.key&&(e.preventDefault(),r--,d()),"ArrowDown"==e.key&&(e.preventDefault(),r++,d()),t(),"Enter"==e.key)&&(e.preventDefault(),l.options[r].click())}),function(){var e=document.querySelector("datalist.fv-suggestions option.active");return e&&e.classList.remove("active"),(r=r>=l.options.length?0:r)<0&&(r=l.options.length-1),l.options[r].classList.add("active"),!0}),d=function(){r=(r=r<=-1?0:r)>l.options.length-1?l.options.length-1:r;var e=Math.floor(parseInt(l.style.maxHeight,10)/l.options[0].offsetHeight);l.scrollTo(0,l.options[0].offsetHeight*(r-e+1))};a.after(l),a.setAttribute("data-fv-suggestions",""),new ResizeObserver(()=>{l.style.width=a.getBoundingClientRect().width+"px"}).observe(a)}function Y(s,e){if(!s.hasAttribute("data-fv-password_info")&&"password"==s.type){let a=document.createElement("div");e=e.passwordInfoClass??"",e=(a.classList.add("fv-password",e),a.style.display="none",a.setAttribute("target","#"+s.id),`<div class="tittle">${o.passwordConditionsTitle}</div>
<div class="condition UC">${o.passwordConditionUppercase}</div>
<div class="condition LC">${o.passwordConditionLowercase}</div>
<div class="condition SC">${o.passwordConditionSpecialChars}</div>
<div class="condition NC">${o.passwordConditionNumericChars}</div>
<div class="condition L">${o.passwordConditionLength}</div>
<div class="strength-text"></div>
<div class="strength-bar"></div>`);a.innerHTML=e,s.after(a),s.setAttribute("data-fv-password_info","");let i=document.querySelector(`div.fv-password[target="#${s.id}"] div.strength-bar`),n=document.querySelector(`div.fv-password[target="#${s.id}"] div.strength-text`);s.addEventListener("blur",function(){a.style.display="none"}),s.addEventListener("input",function(){if(a.style.display="block",i.classList.remove("very-strong","strong","normal","weak","very-weak"),n.innerHTML="",document.querySelectorAll(`div.fv-password[target="#${s.id}"] div.condition`).forEach(e=>{e.classList.remove("check","no-check")}),0!=s.value.length){var e=w(s.value);let t=e.check;e=e.strength;switch(["UC","LC","SC","NC","L"].forEach(e=>{document.querySelector(`div.fv-password[target="#${s.id}"] div.condition.`+e)?.classList.add(t.includes(e)?"check":"no-check")}),e){case 5:n.innerHTML=o.passwordStrengthVeryStrong,i.classList.add("very-strong");break;case 4:n.innerHTML=o.passwordStrengthStrong,i.classList.add("strong");break;case 3:n.innerHTML=o.passwordStrengthNormal,i.classList.add("normal");break;case 2:n.innerHTML=o.passwordStrengthWeak,i.classList.add("weak");break;default:n.innerHTML=o.passwordStrengthVeryWeak,i.classList.add("very-weak")}s.setAttribute("data-fv-password_strength",e.toString());e=(parseFloat(window.getComputedStyle(s).width)-parseFloat(window.getComputedStyle(a).width))/2;a.style.marginLeft=e+"px"}})}}function S(e,t,a){let i=null;t=t.querySelector(a.parentField.trim());return i="FORM"==(i=t?t??e.parentElement:i)?.nodeName?null:i}function U(e,t,a){let i=e.getAttribute(a.fieldInvalidMessageAttribute+"-"+(t.messageKey??t.name));return i=(i=i||e.getAttribute(a.fieldInvalidMessageAttribute))||t.invalidMessage}function j(e,t,a){let i=e.getAttribute(a.fieldValidMessageAttribute+"-"+(t.messageKey??t.name));return i=(i=i||e.getAttribute(a.fieldValidMessageAttribute))||(t.validMessage??"")}function I(t,a,i,e){let n,s,r,l,d,o;o=e?(n=i.validClass,s=i.invalidClass,r="Valid",l="Invalid",d=i.validLabelClass,i.invalidLabelClass):(n=i.invalidClass,s=i.validClass,r="Invalid",l="Valid",d=i.invalidLabelClass,i.validLabelClass),document.querySelectorAll(`[name=${t.name}]`).forEach(e=>{e.classList.remove(s),e.classList.add(n);e=S(e,a,i),e&&(e.classList.remove(l),e.classList.add(r)),e=["checkbox","radio"].includes(t.type)?t.id:t.name,e=document.querySelector(`label[for=${e}]`);e&&(e.classList.remove(o),e.classList.add(d))})}function V(t,a,i){document.querySelectorAll(`[name=${t.name}]`).forEach(e=>{e.classList.remove(i.invalidClass),e.classList.remove(i.validClass);e=S(e,a,i),e&&(e.classList.remove("Valid"),e.classList.remove("Invalid")),e=["checkbox","radio"].includes(t.type)?t.id:t.name,e=document.querySelector(`label[for=${e}]`);e&&(e.classList.remove(i.validLabelClass),e.classList.remove(i.invalidLabelClass))})}function P(e,t,a,i,n,s,r){var l=document.createElement("span"),d=S(e,t,a),o=t.querySelector(`label[for="${e.name}"]`)?.textContent??e.name;let c;l.classList.add(a.inlineMessageClass),l.setAttribute("for-field",e.name),s?(l.classList.add(a.validMessageClass),c=j(e,r,a),i.validMessages[t.id][o]=c):(l.classList.add(a.invalidMessageClass),c=U(e,r,a),i.invalidMessages[t.id][o]=c),0!=c.length&&(l.innerText=c,l.style.display="block",d?d.insertAdjacentElement("beforeend",l):e.after(l),E(s,a,t,e,c))}function N(e,t,a,i,n,s,r){let l;var d,o,c=t.querySelector(`label[for="${e.name}"]`)?.textContent??e.name,u=a.topMessagesTemplate.replace("{topMessagesClass}",a.topMessagesClass).replace("{formID}",t.id).replace("{title}",n.validTitle).replace("{valid_invalid}",a.validMessagesClass).replace("{vi}","valid"),n=a.topMessagesTemplate.replace("{topMessagesClass}",a.topMessagesClass).replace("{formID}",t.id).replace("{title}",n.invalidTitle).replace("{valid_invalid}",a.invalidMessagesClass).replace("{vi}","invalid");s?(l=j(e,r,a),i.validMessages[t.id][c]=l):(l=U(e,r,a),i.invalidMessages[t.id][c]=l);let v="",f="";for(d in i.validMessages[t.id])0<i.validMessages[t.id][d].trim().length&&(v+=`<li for="${d}"><strong>${d}</strong> ${i.validMessages[t.id][d]}</li>`);for(o in i.invalidMessages[t.id])0<i.invalidMessages[t.id][o].length&&(f+=`<li for="${o}"><strong>${o}</strong> ${i.invalidMessages[t.id][o]}</li>`);!s&&0<f.length?t.insertAdjacentHTML("afterbegin",n.replace("{fields&messagesList}",f)):s&&0<v.length&&t.insertAdjacentHTML("afterbegin",u.replace("{fields&messagesList}",v)),E(s,a,t,e,l)}function T(e,t){t=t.querySelector(`span[for-field="${e.name}"]`);t&&t.remove()}function W(e,t,a,i,n,s,r){var l,d,o,c,u="hidden"==e.type||"none"==window.getComputedStyle(e).display;l=e,o=i,c=s,l=(d=t).querySelector(`label[for="${l.name}"]`)?.textContent??l.name,!c&&o.validMessages[d.id][l]?(delete o.validMessages[d.id][l],d.querySelector(`div[data-fv-top-valid] li[for="${l}"]`)?.remove()):c&&o.invalidMessages[d.id][l]&&(delete o.invalidMessages[d.id][l],d.querySelector(`div[data-fv-top-invalid] li[for="${l}"]`)?.remove()),0==d.querySelectorAll("div[data-fv-top-valid] li").length&&d.querySelector("div[data-fv-top-valid]")?.remove(),0==d.querySelectorAll("div[data-fv-top-invalid] li").length&&d.querySelector("div[data-fv-top-invalid]")?.remove(),T(e,t),s&&"top"==a.validMessagesPosition?(t.querySelector("div[data-fv-top-valid]")?.remove(),N(e,t,a,i,n,s,r)):s&&"inline"==a.validMessagesPosition&&!u&&P(e,t,a,i,0,s,r),s||"top"!=a.invalidMessagesPosition?s||"inline"!=a.invalidMessagesPosition||u||P(e,t,a,i,0,s,r):(t.querySelector("div[data-fv-top-invalid]")?.remove(),N(e,t,a,i,n,s,r))}function q(e,t,a,i){a.showHelpMessagesOnFocus&&(a=e.name??"",e=t.querySelector(`span.fv-help_message[for="${a}"]`))&&(e.style.display=i?"block":"none")}r.validators.url={name:"url",validatorFunction:function(e,t,a,i,n){return!!new RegExp(`^${K}$`,"i").test(e)},invalidMessage:o.inv_url,messageKey:"url"},r.validators.password={name:"password",validatorFunction:function(e,t,a,i,n){return parseInt(a.getAttribute("data-fv-min_strength")??"5",10)<=w(e).strength},invalidMessage:o.inv_strength,messageKey:"password"},r.validators.confirmation={name:"confirmation",validatorFunction:function(e,t,a,i,n){var s=a.getAttribute("data-fv-target")??"";return""!==s.trim()&&(a=a.getAttribute("data-fv-custom_value_message")??"",document.querySelector(s)?.value===e||(this.invalidMessage=(s=n,0<(e=a).length?s.inv_confirmation.replace(/\x5B.+\x5D/g,e):s.inv_confirmation.replace("[","").replace("]","")),!1))},invalidMessage:o.notConfirmed,messageKey:"confirmation"},r.validators.credit_card={name:"credit_card",validatorFunction:function(e,t,a,i,n){if(/\D/.test(e))return!1;let s="unknown",r=16,l=19;var d,o=(a.getAttribute("data-fv-allowed_cards")??Object.keys(u).join(",")).split(/[,|-]+\s*|\s+/);o.filter(e=>Object.keys(u).includes(e.toUpperCase()));for(d of o){for(var c of u[d].first)if(e.startsWith(c.toString())){s=d,r=u[d].length.min,l=u[d].length.max;break}if("unknown"!==s)break}a.setAttribute("data-fv-card",s);o=e.split("").map(Number);return!(o.length<r||o.length>l)&&0===$(o)},invalidMessage:o.inv_credit_card,messageKey:"credit_card"},r.validators.cvv={name:"cvv",validatorFunction:function(e,t,a,i,n){return!/\D/.test(e)&&""!==(a=a.getAttribute("data-fv-target")??"").trim()&&!!(a=document.querySelector(a)?.getAttribute("data-fv-card"))&&("unknown"!==a?u[a].cvv===e.length:e.length<3||4<e.length)},invalidMessage:o.inv_cvv,messageKey:"cvv"};class Z{constructor(e,t){this.conf=r,this.conf.language={...o,...t},this.opt={...n,...e},this.lang=this.conf.language}triggerEvent(e,t,a,i,n){let s=[];switch(e){case"beforeValidate":s=r.onBeforeValidate[a.name];break;case"valid":s=r.onValid[a.name];break;case"invalid":s=r.onInvalid[a.name];break;case"afterValidate":s=r.onAfterValidate[a.name]}s&&s.forEach(e=>{e(t,a,i,n)})}validateField(e,t,a,i,n){this.triggerEvent("beforeValidate",t,e,!1,a);var s,r=this.searchSyncValidators(e,a,i),l=e.value,d=[];for(s of r){if(i.validators[s]){if("input"==n&&!(i.validators[s].validateOnInput??a.validateOnInput))continue;var o=i.validators[s].validatorFunction(l,t,e,a,this.lang);o?this.triggerEvent("valid",t,e,!0,a):this.triggerEvent("invalid",t,e,!1,a),d.push(o),V(e,t,a),I(e,t,a,o),W(e,t,a,i,this.lang,o,i.validators[s])}else console.error(`FormValidator: Failed to trigger the validator: ${s}, can not be found.`);if(d.includes(!1))break}return this.triggerEvent("afterValidate",t,e,!d.includes(!1),a),!d.includes(!1)}async validateFieldAsync(e,t,a,i,n){this.triggerEvent("beforeValidate",t,e,!1,a);var s,r=this.searchAsyncValidators(e,a,i),l=e.value,d=[];for(s of r){if(i.asyncValidators[s]){if("input"==n&&!(i.asyncValidators[s].validateOnInput??a.validateOnInput))continue;var o=await i.asyncValidators[s].validatorFunction(l,t,e,a,this.lang);o?this.triggerEvent("valid",t,e,!0,a):this.triggerEvent("invalid",t,e,!1,a),d.push(o),V(e,t,a),I(e,t,a,o),W(e,t,a,i,this.lang,o,i.asyncValidators[s])}else console.error(`FormValidator: Failed to trigger the validator: ${s}, can not be found.`);if(d.includes(!1))break}return this.triggerEvent("afterValidate",t,e,!d.includes(!1),a),!d.includes(!1)}validateAllFields(t,e,a,i,n){let s=t.querySelectorAll(`textarea, select, input:not(${e})`),r=[];return s.forEach(e=>{this.validateFieldController(e,"submit",a)&&r.push(this.validateField(e,t,a,i,n))}),0==r.length&&r.push(!0),!r.includes(!1)}async validateAllFieldsAsync(e,t,a,i,n){var s,t=e.querySelectorAll(`textarea, select, input:not(${t})`),r=[];for(s of Array.from(t)){var l=s;this.validateFieldController(l,"submit",a)&&r.push(await this.validateFieldAsync(l,e,a,i,n))}return 0==r.length&&r.push(!0),!r.includes(!1)}modifyField(t,a,i,n,s){var r=t.getAttribute(n.fieldModifyAttribute);if(t instanceof HTMLInputElement&&!["search","checkbox","radio","file"].includes(t.type)||t instanceof HTMLTextAreaElement){var l,r=r?r.split(/[,|-]+\s*|\s+/):[];let e=t.value;for(l of r)s.modifiers[l]?"input"==i&&!(s.modifiers[l].modifyOnInput??n.modifyOnInput)||(e=s.modifiers[l].modifierFunction(e,a,t,n,this.lang)):console.error(`FormValidator: Failed to trigger the modifier: ${l}, can not be found.`);t.value=e}}setDependantValidation(n,s,r,l){var d=s.getAttribute("data-fv-depends-on");if(d){let i=n.querySelector(`[name=${d}]`);if(i){s.setAttribute("data-fv-skip","true");var o=s.getAttribute(r.fieldValidateAttribute)??"",o=(o.includes("required")||s.setAttribute(r.fieldValidateAttribute,o+"required"),i.setAttribute("data-fv-dependant",d),s instanceof HTMLSelectElement?"change":"input");let e=s.getAttribute("data-fv-depends-on-value")??"",t=(s.addEventListener(o,function(){s.setAttribute("data-fv-skip","true"),V(s,n,r),T(s,s.form),l.validMessages[n.id][s.name]&&delete l.validMessages[n.id][s.name],l.invalidMessages[n.id][s.name]&&delete l.invalidMessages[n.id][s.name],document.querySelector(`.${r.topMessagesClass} li[for=${s.name}]`)?.remove(),0<i.value.trim().length&&s.setAttribute("data-fv-skip","false"),0<e.length&&e!=i.value&&s.setAttribute("data-fv-skip","true")}),s instanceof HTMLSelectElement?"change":"input"),a=this;i.addEventListener(t,function(){V(s,n,r),T(s,s.form),l.validMessages[n.id][s.name]&&delete l.validMessages[n.id][s.name],l.invalidMessages[n.id][s.name]&&delete l.invalidMessages[n.id][s.name],document.querySelector(`.${r.topMessagesClass} li[for=${s.name}]`)?.remove(),(s.classList.contains(r.validClass)||s.classList.contains(r.invalidClass))&&a.validateField(s,n,r,l,t)})}else console.error(`FormValidator: Failed to set the dependant validation on ${s.name}, the target field ${d} can not be found.`)}}setOptionalValidation(e,t,a,i){var n;t.hasAttribute("data-fv-depends-on")||"true"==(t.getAttribute("data-fv-optional")??"")&&(t.setAttribute("data-fv-skip","true"),(n=t.getAttribute(a.fieldValidateAttribute)??"").includes("required")||t.setAttribute(a.fieldValidateAttribute,n+"required"),n=t instanceof HTMLSelectElement?"change":"input",t.addEventListener(n,function(){0<t.value.trim().length?t.setAttribute("data-fv-skip","false"):(t.setAttribute("data-fv-skip","true"),V(t,e,a),T(t,t.form),i.validMessages[e.id][t.name]&&delete i.validMessages[e.id][t.name],i.invalidMessages[e.id][t.name]&&delete i.invalidMessages[e.id][t.name],document.querySelector(`.${a.topMessagesClass} li[for=${t.name}]`)?.remove())}))}validateFieldController(e,t,a){var i=e.getAttribute("data-fv-ignored")??"false",n=e.getAttribute("data-fv-skip")??"false";if("true"==i||"true"==n)return!1;var s=e instanceof HTMLInputElement&&["checkbox","radio"].includes(e.type);let r=!1;switch(t){case"click":s&&a.validateCheckboxRadioOnClick&&(r=!0);break;case"blur":a.validateOnBlur&&(r=!0);break;default:r=!0}return r}domFieldsFeatures(e,t,a){var i,e=e.querySelectorAll(F(!1,!1));t instanceof HTMLInputElement&&Array.from(e).includes(t)||(t instanceof HTMLInputElement&&(a.addSuggestions&&(e=t.getAttribute(a.suggestionAttribute)??"",z(t,e.split(/[,|-]+\s*|\s+/),a.suggestionConfig)),a.addPasswordInfo)&&Y(t,a),t instanceof HTMLTextAreaElement&&(e=t.getAttribute(a.lengthRestrictAttribute))&&L(t,parseInt(e,10),a.lengthRestrictInfo),a.showHelpMessagesOnFocus&&(e=t.getAttribute(a.fieldHelpMessageAttribute))&&(a=t,t=e,e=document.createElement("span"),i=a.getAttribute("name"))&&(e.classList.add("fv-help_message"),e.setAttribute("for",i),e.textContent=t,e.style.display="none",(a.hasAttribute("data-fv-suggestions")?document.querySelector(`datalist.fv-suggestions[target="#${a.id}"]`):a.hasAttribute("data-fv-password_info")?document.querySelector('div.fv-password[target="#'+a.id):a).after(e)))}ignoreField(t,a,i){t=t.querySelectorAll(F(!1,!1));if(!(a instanceof HTMLInputElement&&Array.from(t).includes(a))){let e=[];t=a.getAttribute("name")??"";Array.isArray(i.ignoredFieldsNames)?e=i.ignoredFieldsNames:"string"==typeof i.ignoredFieldsNames&&(e=i.ignoredFieldsNames.split(/[,|-]+\s*|\s+/)),-1<e.indexOf(t)?a.setAttribute("data-fv-ignored","true"):a.setAttribute("data-fv-ignored","false"),a.setAttribute("data-fv-skip","false")}}searchAsyncValidators(e,t,a){let i=Object.keys(a.asyncValidators),n=e.getAttribute(t.fieldValidateAttribute),s=n?n.split(/[,|-]+\s*|\s+/):[];return i.filter(e=>s.includes(e))}searchSyncValidators(e,t,a){let i=Object.keys(a.validators),n=e.getAttribute(t.fieldValidateAttribute),s=n?n.split(/[,|-]+\s*|\s+/):[];return i.filter(e=>s.includes(e))}addEventListenersToFormFields(e,t,a,i){var n=e.querySelectorAll(F(a.validateHiddenFields,!1));t instanceof HTMLInputElement&&Array.from(n).includes(t)||(t.addEventListener("focus",()=>{q(t,e,a,!0)}),t.addEventListener("click",async()=>{q(t,e,a,!0),this.validateFieldController(t,"click",a)&&this.validateField(t,e,a,i,"click")&&await this.validateFieldAsync(t,e,a,i,"click")}),t.addEventListener("blur",async()=>{q(t,e,a,!1),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&this.modifyField(t,e,"blur",a,i),this.validateFieldController(t,"blur",a)&&this.validateField(t,e,a,i,"blur")&&await this.validateFieldAsync(t,e,a,i,"blur")}),t.addEventListener("input",async()=>{(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&this.modifyField(t,e,"input",a,i),this.validateFieldController(t,"input",a)&&this.validateField(t,e,a,i,"input")&&await this.validateFieldAsync(t,e,a,i,"input")}),t instanceof HTMLSelectElement&&t.addEventListener("change",async()=>{this.validateField(t,e,a,i,"change")&&await this.validateFieldAsync(t,e,a,i,"change")}))}addEventListenersToForm(n,s,r){n.addEventListener("submit",async e=>{e.preventDefault();let t=this.validateAllFields(n,F(s.validateHiddenFields,!1),s,r,"submit");var a,i;t=t&&await this.validateAllFieldsAsync(n,F(s.validateHiddenFields,!1),s,r,"submit"),n.setAttribute("valid-state",t?"validForm":"invalidForm"),t||(s.scrollToTopOnInvalid&&n.scrollIntoView({behavior:"smooth"}),e.stopImmediatePropagation()),a=n,(i=s).addValidClassOnAll&&a.querySelectorAll(`textarea:not(.${i.validClass}, .${i.invalidClass}), input:not(.${i.validClass}, .${i.invalidClass}), select:not(.${i.validClass}, .${i.invalidClass})`).forEach(e=>I(e,a,i,!0))}),n.addEventListener("reset",()=>{var t,a,e,i;a=s,e=r,(t=n).querySelectorAll('textarea, select, input:not([type="submit"],[type="button"],[type="reset"])').forEach(e=>{V(e,t,a),T(e,t)}),i=t,(e=e).validMessages[i.id]={},e.invalidMessages[i.id]={},i.querySelectorAll("div[data-fv-top-valid],div[data-fv-top-invalid]").forEach(e=>e.remove()),n.removeAttribute("valid-state")})}setUpFV(a,i){var e=a.form.split(/[,|-]+\s*|\s+/).map(e=>"#"+e).join(",");let t=document.querySelectorAll(e);(t=t||document.querySelectorAll("form")).forEach(t=>{i.validMessages[t.id]={},i.invalidMessages[t.id]={},t.classList.add("fv"),t.noValidate=!0,this.addEventListenersToForm(t,a,i),t.querySelectorAll("input, textarea, select").forEach(e=>{this.domFieldsFeatures(t,e,a),this.ignoreField(t,e,a),this.setDependantValidation(t,e,a,i),this.setOptionalValidation(t,e,a,i),this.addEventListenersToFormFields(t,e,a,i)})})}setSuggestions(e,t,a){var i;if(!(e instanceof HTMLInputElement)){if(!(i=document.querySelector(`[name=${e}]`)))return void console.error(`FormValidator: Failed to set the suggestions, the input '${e}' can not be found.`);e=i}z(e,t,a=a||n.suggestionConfig)}setTextAreaLengthRestriction(e,t,a){var i;if(!(e instanceof HTMLTextAreaElement)){if(!(i=document.querySelector(`[name=${e}]`)))return void console.error(`FormValidator: Failed to set the text length restriction, the textarea '${e}' can not be found.`);e=i}["count","both","remaining"].includes(a=a||"count")&&L(e,t,a)}setPasswordInfo(e){var t;if(!(e instanceof HTMLInputElement)){if(!(t=document.querySelector(`[name=${e}]`)))return void console.error(`FormValidator: Failed to set the password info, the input '${e}' can not be found.`);e=t}Y(e,n)}validate(e,t){var t={...this.opt,...t},a=this.conf;let i;i=e&&0<(i=e??"").trim().length?i:t.form,t.form=i,this.setUpFV(t,a)}fromJSON(e,t){var a=Object.keys(e);if(0!=a.length){var i=e[0];if(i){var n=document.querySelector(Object.keys(e)[0]);if(n){var s,r={...this.opt,...t},a=this.conf;for(s in r.form=Object.keys(e)[0],i){var l=n.querySelector(s);if(l){var d,o=i[s];for(d in o.validators&&l.setAttribute(r.fieldValidateAttribute,o.validators),o.modifiers&&l.setAttribute(r.fieldModifyAttribute,o.modifiers),o.dataFV){var c=o.dataFV[d],u=d.includes("data-fv-")?d:"data-fv-"+d;l.setAttribute(u,c)}}else console.error(`FormValidator: Failed to set the validation on the field, '${s}' can not be found.`)}this.setUpFV(r,a)}else console.error(`FormValidator: Failed to set the validation config on the from, '${Object.keys(e)[0]}' can not be found.`)}}}addFormValidationEvent(e,t,a){var i=document.getElementById(t);if(i)switch(e){case"beforeValidate":r.onBeforeValidate[i.name].push(a);break;case"valid":r.onValid[i.name].push(a);break;case"invalid":r.onInvalid[i.name].push(a);break;case"afterValidate":r.onAfterValidate[i.name].push(a);break;default:console.error(`FormValidator: Failed to add the event, '${e}' is not a valid event.`)}else console.error(`FormValidator: Failed to add the event,  the field named '${t}' cant not be found.`)}addValidator(e){Object.keys(this.conf.validators).includes(e.name)?console.error(`FormValidator: Failed to add the validator, the name '${e.name}' is already in use.`):this.conf.validators[e.name]=e}addAsyncValidator(e){Object.keys(this.conf.asyncValidators).includes(e.name)?console.error(`FormValidator: Failed to add the validator, the name '${e.name}' is already in use.`):this.conf.asyncValidators[e.name]=e}addModifier(e){Object.keys(this.conf.modifiers).includes(e.name)?console.error(`FormValidator: Failed to add the modifier, the name '${e.name}' is already in use.`):this.conf.modifiers[e.name]=e}restrict(t,e,a,i){var n;if(!(t instanceof HTMLInputElement)){if(!(n=document.querySelector("#"+t)))return void console.error(`FormValidator: Failed to set the characters restriction on the input, '${t}' can not be found.`);t=n}a=a&&_(a),i=i&&_(i);let s;switch(e){case"numbers":s=new RegExp(`[0-9${i??""}]`);break;case"letters":s=new RegExp(`[a-zA-Z${i??""}]`);break;case"text":s=new RegExp(`[a-zA-Z0-9\\s\\,\\;\\.${i??""}]`);break;case"none":s=new RegExp(`[${i??""}]`);break;default:s=/[.]/}let r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Backspace","Delete","Control","Shift","CapsLock","Tab","AltGraph","Home","End","PageUp","PageDown"],l=new RegExp(`[${a}]`);t.addEventListener("keydown",function(e){r.includes(e.key)||s.test(e.key)&&!l.test(e.key)||e.preventDefault()}),t.addEventListener("input",function(e){s.test(t.value)&&!l.test(t.value)||(t.value=t.value.replace(new RegExp(`[^${s.source}]`,"g"),"")),t.value=t.value.replace(new RegExp(`[${l.source}]`,"g"),"")})}}});
//# sourceMappingURL=FormValidator.min.js.map
